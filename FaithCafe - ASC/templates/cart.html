<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FaithCafe - Cart</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">FaithCafe</div>
            <nav>
                <ul>
                    <li><a href="home.html">Home</a></li>
                    <li><a href="menu.html">Menu</a></li>
                    <li><a href="cart.html">Cart (<span id="cart-count">0</span>)</a></li>
                    <li><a href="status.html">Delivery Status</a></li>
                </ul>
            </nav>
            <button id="theme-toggle" class="theme-toggle">ðŸŒ™</button>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="page-title">Your Cart</h1>
            
            <div id="cart-items">
                <!-- Cart items will be dynamically inserted here -->
            </div>
            
            <div class="cart-summary">
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span id="cart-total">â‚±0.00</span>
                </div>
                <div class="summary-row">
                    <span>Tax (12%):</span>
                    <span id="tax-amount">â‚±0.00</span>
                </div>
                <div class="summary-row summary-total">
                    <span>Total:</span>
                    <span id="total-amount">â‚±0.00</span>
                </div>
                
                <a href="checkout.html" class="btn" style="display: block; text-align: center; margin-top: 20px;">Proceed to Checkout</a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container footer-content">
            <p>&copy; 2025 FaithCafe. All rights reserved.</p>
        </div>
    </footer>

    <script src="../static/js/script.js"></script>
    <script>
        // Update tax and total amounts when cart is displayed
        function updateCartTotals() {
            const cart = JSON.parse(localStorage.getItem('cart'));
            let subtotal = 0;
            
            cart.forEach(item => {
                subtotal += item.price * item.quantity;
            });
            
            const tax = subtotal * 0.12;
            const total = subtotal + tax;
            
            document.getElementById('cart-total').textContent = `â‚±${subtotal.toFixed(2)}`;
            document.getElementById('tax-amount').textContent = `â‚±${tax.toFixed(2)}`;
            document.getElementById('total-amount').textContent = `â‚±${total.toFixed(2)}`;
        }
        
        // Override the displayCartItems function to include totals
        const originalDisplayCartItems = displayCartItems;
        displayCartItems = function() {
            originalDisplayCartItems();
            updateCartTotals();
        };
        
        // Override the updateQuantity function to include totals
        const originalUpdateQuantity = updateQuantity;
        updateQuantity = function(itemName, change) {
            originalUpdateQuantity(itemName, change);
            updateCartTotals();
        };
        
        // Initialize cart display
        displayCartItems();
    </script>
</body>
</html>